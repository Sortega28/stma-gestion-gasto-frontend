<div class="new-order-container">

  <h2>Nueva orden de gasto</h2>

  <form [formGroup]="form" class="form-grid">

    <!-- Proyecto -->
    <mat-form-field appearance="outline">
      <mat-label>Proyecto</mat-label>
      <mat-select formControlName="codigo_proyecto"
                  [disabled]="!roleService.puedeCrearOrdenes()">
        <mat-option *ngFor="let p of proyectos" [value]="p">{{ p }}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- CIF -->
    <mat-form-field appearance="outline">
      <mat-label>CIF*</mat-label>
      <input matInput formControlName="cif_prov_final"
             [disabled]="!roleService.puedeCrearOrdenes()">
    </mat-form-field>

    <!-- Proveedor -->
    <mat-form-field appearance="outline">
      <mat-label>Proveedor*</mat-label>
      <input matInput formControlName="nombre_prov_final"
             [disabled]="!roleService.puedeCrearOrdenes()">
    </mat-form-field>

    <!-- Concepto -->
    <mat-form-field appearance="outline">
      <mat-label>Concepto</mat-label>
      <input matInput formControlName="concepto"
             [disabled]="!roleService.puedeCrearOrdenes()">
    </mat-form-field>

    <!-- Importe -->
    <mat-form-field appearance="outline">
      <mat-label>Importe*</mat-label>
      <input matInput type="number" formControlName="importe"
             [disabled]="!roleService.puedeCrearOrdenes()">
    </mat-form-field>

    <!-- Objeto -->
    <mat-form-field appearance="outline">
      <mat-label>Objeto*</mat-label>
      <mat-select formControlName="objeto"
                  [disabled]="!roleService.puedeCrearOrdenes()">
        <mat-option *ngFor="let o of objetos" [value]="o">{{ o }}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Tipo de gasto -->
<mat-form-field appearance="outline">
  <mat-label>Tipo de gasto*</mat-label>
  <mat-select formControlName="idtipo_gasto"
              [disabled]="!roleService.puedeCrearOrdenes()">
    <mat-option *ngFor="let t of tiposGasto" [value]="t.id">
      {{ t.nombre }}
    </mat-option>
  </mat-select>
</mat-form-field>


  </form>

  <button mat-raised-button color="primary"
          class="btn-save"
          *ngIf="roleService.puedeCrearOrdenes()"
          (click)="guardar()">
    Guardar&nbsp;&nbsp;<mat-icon>add</mat-icon>
  </button>

</div>
